{"ast":null,"code":"import _slicedToArray from \"/home/franki/react-state-managment/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/franki/react-state-managment/src/Counter.js\";\nimport React, { useEffect, useState } from 'react';\n\nvar getStateFromLocalStorage = function getStateFromLocalStorage() {\n  var storage = localStorage.getItem('counterState');\n  if (storage) return JSON.parse(storage).count;\n  return {\n    count: 0\n  };\n};\n\nvar storeStateInLocalStorage = function storeStateInLocalStorage(count) {\n  localStorage.setItem('counterState', JSON.stringify({\n    count: count\n  }));\n  console.log(localStorage);\n};\n\nvar useLocalStorage = function useLocalStorage(initialState, key) {\n  var get = function get() {\n    var storage = localStorage.getItem(key);\n    if (storage) return JSON.parse(storage)[value];\n    return initialState;\n  };\n\n  var _useState = useState(get()),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  useEffect(function () {\n    localStorage.setItem(key, JSON.stringify({\n      value: value\n    }));\n  }, [value]);\n  return [value, setValue];\n};\n\nvar Counter = function Counter(_ref) {\n  var max = _ref.max,\n      step = _ref.step;\n\n  var _useLocalStorage = useLocalStorage(0, 'count'),\n      _useLocalStorage2 = _slicedToArray(_useLocalStorage, 2),\n      count = _useLocalStorage2[0],\n      setCount = _useLocalStorage2[1];\n\n  var increment = function increment() {\n    setCount(function (c) {\n      if (c >= max) return c;\n      return c + step;\n    });\n  };\n\n  var decrement = function decrement() {\n    return setCount(count - 1);\n  };\n\n  var reset = function reset() {\n    return setCount(0);\n  };\n\n  useEffect(function () {\n    storeStateInLocalStorage(count);\n  }, [count]);\n  useEffect(function () {\n    document.title = \"Counter: \".concat(count);\n  }, [count]);\n  return React.createElement(\"main\", {\n    className: \"Counter\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    className: \"count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, count), React.createElement(\"section\", {\n    className: \"controls\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: increment,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Increment\"), React.createElement(\"button\", {\n    onClick: decrement,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Decrement\"), React.createElement(\"button\", {\n    onClick: reset,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Reset\")));\n};\n\nexport default Counter;","map":{"version":3,"sources":["/home/franki/react-state-managment/src/Counter.js"],"names":["React","useEffect","useState","getStateFromLocalStorage","storage","localStorage","getItem","JSON","parse","count","storeStateInLocalStorage","setItem","stringify","console","log","useLocalStorage","initialState","key","get","value","setValue","Counter","max","step","setCount","increment","c","decrement","reset","document","title"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst getStateFromLocalStorage = () => {\n  const storage = localStorage.getItem('counterState');\n  if(storage) return JSON.parse(storage).count;\n  return {count: 0};\n}\nconst storeStateInLocalStorage = count => {\n  localStorage.setItem('counterState', JSON.stringify({ count }));\n  console.log(localStorage);\n}\n\nconst useLocalStorage = (initialState, key) => {\n  const get = () => {\n    const storage = localStorage.getItem(key);\n    if (storage) return JSON.parse(storage)[value];\n    return initialState;\n  };\n  const [value, setValue] = useState(get());\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify({ value }));\n  }, [value]);\n\n  return [value, setValue];\n}\nconst Counter = ({ max, step}) =>  {\n\n  const [count, setCount] = useLocalStorage(0, 'count');\n\n  const increment = () => {\n    setCount(c => {\n      if(c >= max) return c;\n      return c + step;\n    })};\n  const decrement = () => setCount(count - 1);\n  const reset = () => setCount(0);\n\n  useEffect(() => {\n    storeStateInLocalStorage(count);\n  }, [count])\n\n  useEffect(() => {\n    document.title = `Counter: ${count}`\n  }, [count])\n\n\n    return (\n      <main className=\"Counter\">\n        <p className=\"count\">{count}</p>\n        <section className=\"controls\">\n          <button onClick={increment}>Increment</button>\n          <button onClick={decrement}>Decrement</button>\n          <button onClick={reset}>Reset</button>\n        </section>\n      </main>\n    );\n  \n}\n\nexport default Counter;\n"]},"metadata":{},"sourceType":"module"}